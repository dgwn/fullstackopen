{"version":3,"sources":["services/names.js","components/Form.js","components/Persons.js","components/Search.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","changedObject","put","id","deleteObject","delete","Form","newName","setNewName","newNumber","setNewNumber","addName","className","value","onChange","event","target","type","class","onClick","Persons","displayNames","Search","newSearch","setNewSearch","Notification","message","messageType","App","useState","persons","setPersons","errorMessage","setErrorMessage","setMessageType","useEffect","nameService","initialNames","checkNames","i","length","toLowerCase","name","deleteName","find","n","filter","setTimeout","preventDefault","nameObject","number","returnedName","concat","catch","error","window","confirm","selectedPerson","person","newNameObject","map","key","included","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7d02f8dd.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons/'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = changedObject => {\n  const request = axios.put(baseUrl + changedObject.id, changedObject)\n  return request.then(response => response.data)\n}\n\nconst remove = deleteObject => {\n  const request = axios.delete(baseUrl + deleteObject)\n  return request.then(response => response.data)\n}\n\nexport default {\n  getAll, create, update, remove\n}\n","import React from \"react\";\n\nconst Form = ({ newName, setNewName, newNumber, setNewNumber, addName }) => {\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  return (\n    <form className=\"mb-3 w-50\">\n      <div>\n        <label className=\"form-label\">Name:</label>\n        <input\n          value={newName}\n          onChange={handleNameChange}\n          className=\"form-control\"\n        />\n      </div>\n      <div>\n        <label className=\"form-label\">Number:</label>\n        <input\n          value={newNumber}\n          onChange={handleNumberChange}\n          className=\"form-control\"\n        />\n        <div />\n        <button type=\"submit\" class=\"btn btn-primary mt-2\" onClick={addName}>\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\n\nconst Persons = ({ displayNames }) => {\n  return <ul className=\"list-group\">{displayNames()}</ul>;\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Search = ({ newSearch, setNewSearch }) => {\n  const handleSearch = (event) => {\n    setNewSearch(event.target.value);\n  };\n\n  return (\n    <form className=\"mb-3\">\n      <div>\n        Search:{\" \"}\n        <input\n          value={newSearch}\n          onChange={handleSearch}\n          className=\"form-control w-50\"\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\n\nconst Notification = ({ message, messageType }) => {\n  if (message === null) {\n    return null;\n  }\n\n  // const errorStyle = {\n  //   color: \"white\",\n  //   backgroundColor: \"red\",\n  //   margin: \"10px\",\n  //   textAlign: \"center\",\n  //   fontSize: \"26px\"\n  // };\n  // const successStyle = {\n  //   color: \"white\",\n  //   backgroundColor: \"green\",\n  //   margin: \"10px\",\n  //   textAlign: \"center\",\n  //   fontSize: \"26px\"\n  // };\n\n  if (messageType === \"success\") {\n    return <div className=\"alert alert-success\">{message}</div>;\n  } else {\n    return <div className=\"alert alert-danger\">{message}</div>;\n  }\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport nameService from \"./services/names\";\nimport Form from \"./components/Form\";\nimport Persons from \"./components/Persons\";\nimport Search from \"./components/Search\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [messageType, setMessageType] = useState(null);\n\n  useEffect(() => {\n    nameService.getAll().then((initialNames) => {\n      setPersons(initialNames);\n    });\n  }, []);\n\n  const addName = (event) => {\n    event.preventDefault();\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    };\n    if (checkNames() === true) {\n      nameService\n        .create(nameObject)\n        .then((returnedName) => {\n          setPersons(persons.concat(returnedName));\n          setMessageType(\"success\");\n          setErrorMessage(`${newName} was added to the phonebook.`);\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setTimeout(() => {\n            setErrorMessage(null);\n            setMessageType(null);\n          }, 2000);\n        })\n        .catch((error) => {\n          setMessageType(\"error\");\n          setErrorMessage(error.message);\n          setTimeout(() => {\n            setErrorMessage(null);\n            setMessageType(null);\n          }, 2000);\n        });\n    } else {\n      const result = window.confirm(\n        `\"${nameObject.name}\" is already in the phonebook. Replace the old number with a new one?`\n      );\n      if (result) {\n        // find the person object with a name that matches the inputted one\n        const selectedPerson = persons.find(\n          (person) => person.name.toLowerCase() === newName.toLowerCase()\n        );\n        // create a new object using the new number but old ID\n        const newNameObject = {\n          name: nameObject.name,\n          number: newNumber,\n          id: selectedPerson.id\n        };\n        nameService\n          .update(newNameObject)\n          .then((returnedName) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== newNameObject.id ? person : returnedName\n              )\n            );\n            setMessageType(\"success\");\n            setErrorMessage(`${newName} was updated.`);\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setTimeout(() => {\n              setErrorMessage(null);\n              setMessageType(null);\n            }, 2000);\n          })\n          .catch((error) => {\n            setErrorMessage(`${newName} was already removed from server.`);\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 2000);\n          });\n      }\n    }\n  };\n\n  const checkNames = () => {\n    for (let i = 0; i < persons.length; i++) {\n      if (newName.toLowerCase() === persons[i].name.toLowerCase()) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const deleteName = (id) => {\n    const deleteObject = persons.find((n) => n.id === id).id;\n    nameService.remove(deleteObject).then((deleteObject) => {\n      setPersons(persons.filter((n) => n.id !== id));\n      setErrorMessage(`A name was deleted.`);\n      setMessageType(\"success\");\n      setTimeout(() => {\n        setErrorMessage(null);\n        setMessageType(null);\n      }, 2000);\n    });\n  };\n\n  const displayNames = () => {\n    if (newSearch === \"\") {\n      return persons.map((person) => (\n        <li key={person.id} className=\"list-group-item w-50 clearfix\">\n          {person.name}: {person.number}{\" \"}\n          <button\n            onClick={() => deleteName(person.id)}\n            className=\"btn btn-danger btn-sm float-end\"\n          >\n            Delete\n          </button>\n        </li>\n      ));\n    }\n    for (let i = 0; i < persons.length; i++) {\n      const included = persons[i].name.toLowerCase().includes(newSearch);\n      if (\n        persons[i].name.toLowerCase().includes(newSearch) === true &&\n        included\n      ) {\n        return persons\n          .filter((person) => person.name.toLowerCase().includes(newSearch))\n          .map((person) => (\n            <li key={person.id} className=\"list-group-item w-50 clearfix\">\n              {person.name}: {person.number}\n              <button\n                onClick={() => deleteName(person.id)}\n                className=\"btn btn-danger btn-sm float-end\"\n              >\n                Delete\n              </button>\n            </li>\n          ));\n      }\n    }\n    return (\n      <li className=\"list-group-item w-50\">No such name in the phonebook</li>\n    );\n  };\n\n  return (\n    <div className=\"container w-75\">\n      <h1>Phonebook</h1>\n      <Search newSearch={newSearch} setNewSearch={setNewSearch} />\n      <h2>Add an entry</h2>\n      <Notification message={errorMessage} messageType={messageType} />\n      <Form\n        checkNames={checkNames}\n        newName={newName}\n        setNewName={setNewName}\n        addName={addName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons displayNames={displayNames} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}